<p-blockUI [blocked]="boolLoading">
  <i class="pi pi-spin pi-spinner-dotted" style="font-size: 3rem"></i>
</p-blockUI>
<p-toast />

<form [formGroup]="formulario" (ngSubmit)="ValidaFormulario()">
  <div class="flex justify-content-center flex-wrap m-4">
    <div class="surface-card p-4 shadow-2 border-round w-full lg:w-6">
      <div class="text-center mb-5">
        <img src="assets/img/Visitatus.png" alt="Imagem Logo" height="100" class="mb-3 border-round">
          <div class="text-900 text-3xl font-medium mb-3">Login</div>
      </div>

      <div>
        <label for="usr" class="block text-900 font-medium">Usuário</label>
        <!-- <p-inputMask id="cpf" mask="999.999.999-99" formControlName="cpf"></p-inputMask> -->
        <input id="usr" type="text" pInputText formControlName="usr" style="width: 100%;"/>
        <label for="senha" class="block text-900 font-medium mt-2">Senha</label>
        <div class="p-fluid">
          <p-password id="senha" [toggleMask]="true" class="full-width" formControlName="senha" [feedback]="false"/>
        </div>
        <br>
        <button pButton pRipple label="Entrar" icon="pi pi-user" class="w-full mt-2" type="submit" [disabled]="!formulario.valid"></button>
      </div>
    </div>
  </div>
</form>

<!-- DIALOG PARA EXIBIR A LISTA DE PERFIS PARA O USUÁRIO SELECIONAR -->
<p-dialog header="Selecione o Perfil" [modal]="true" [(visible)]="boolDialogPerfil" [style]="{ width: '25rem' }">
  <span class="p-text-secondary block mb-5">Selecione o perfil que deseja utilizar.</span>
  <div class="card flex justify-content-center">
    <div class="flex flex-column gap-3">
        <div *ngFor="let item of objUsuarioLogado.lstPerfil" class="field-checkbox">
            <p-radioButton
                [inputId]="item.perCodi.toString()"
                name="category"
                [value]="item"
                [(ngModel)]="objPerfilSelecionado" />
            <label [for]="item.perCodi" class="ml-2">
                {{ item.perNome }}
            </label>
        </div>
    </div>
  </div>
  <!-- <div class="flex align-items-center gap-3 mb-3">
      <label for="username" class="font-semibold w-6rem">Username</label>
      <input pInputText id="username" class="flex-auto" autocomplete="off" />
  </div>
  <div class="flex align-items-center gap-3 mb-5">
      <label for="email" class="font-semibold w-6rem">Email</label>
      <input pInputText id="email" class="flex-auto" autocomplete="off" />
  </div> -->
  <hr>
  <div class="flex justify-content-center gap-2 mt-4">
    <p-button label="Acessar" (onClick)="SelecionaPerfilUsuario();" />
    <p-button label="Cancelar" severity="danger" (onClick)="boolDialogPerfil = false" />
  </div>
</p-dialog>
